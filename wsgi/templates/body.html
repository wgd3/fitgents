{% extends 'base.html' %}

{% block body %}

<div class="row">

	<div class="page-header">
		<h1>Body
			<a href="#" class="btn btn-default pull-right" data-toggle="modal" data-target="#modal_body">
				<span class="glyphicon glyphicon-plus"></span> Log New Data
			</a>
		</h1>
	</div>

</div>

<div class="row">

	{% if g.user.name != "Guest" %}
	
		{% include 'modal_bodylog.html' %}
		
		{% if g.user.bodylog is defined %}
		
			<div class="col-md-8">
				<div class="well">
				
				</div>
			</div>
			
			<div class="col-md-4">
				<div class="well">
					<ul class="list-group">
						<li class="list-group-item" style="padding: 0;"><h3>
							Net Weight Change
							{% if g.user.startlog.weight > g.user.currentlog.weight %}
							<span class="label label-success pull-right">-{{ g.user.startlog.weight - g.user.currentlog.weight }}lbs</span>
							{% else %}
							<span class="label label-danger pull-right">+{{ g.user.currentlog.weight - g.user.startlog.weight }}lbs</span>
							{% endif %}
						</h3></li>
						<li class="list-group-item" style="padding: 0;"><h3>
							Net BodyFat Change
							{% if g.user.startlog.bodyfat > g.user.currentlog.bodyfat %}
							<span class="label label-success pull-right">-{{ g.user.startlog.bodyfat - g.user.currentlog.bodyfat }}%</span>
							{% else %}
							<span class="label label-danger pull-right">+{{ g.user.startlog.bodyfat - g.user.currentlog.bodyfat }}%</span>
							{% endif %}
						</h3></li>
					</ul>
				</div>
			</div>
			
			<hr>
		
			<div class="col-md-4">
		
				<div class="page-heading">
					<h4>Weight</h4>
				</div>
				
				<table class="table table-striped table-condensed">
					<thead>
						<tr>
							<th class="col-md-3">Date</th>
							<th class="col-md-2">Weight</th>
							<th class="col-md-3">Body Fat</th>
							<th class="col-md-3">Lean Muscle</th>
							<th class="col-md-1 text-right">Edit</th>
						</tr>
					</thead>
					<tbody>
						{% for log in g.user.bodylog %}
							<tr>
								<td>{{ log.timestamp }}</td>
								<td>{{ log.weight }}</td>
								<td>{{ log.bodyfat }}</td>
								<td>{{ log.lean_muscle }}</td>
								<td></td>
								<td><span class="pull-right glyphicon glyphicon-pencil"></span></td>
							</tr>
						{% endfor %}
					</tbody>
		
		
				</table>
				
			</div>
			
			<div class="col-md-4">

				<div class="page-heading">
					<h4>Circumference</h4>
				</div>
				
				<table class="table table-striped table-condensed">
					<thead>
						<tr>
							<th class="col-md-3">Location</th>
							<th class="col-md-3">Start</th>
							<th class="col-md-3">Current</th>
							<th class="col-md-3">Net Change</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th>Chest</th>
							<td>{{ g.user.startlog.circ_chest }}</td>
							<td>{{ g.user.currentlog.circ_chest }}</td>
							<td>
								{% if (g.user.startlog.circ_chest - g.user.currentlog.circ_chest) == 0.0 %}
								No Change
								{% elif (g.user.startlog.circ_chest - g.user.currentlog.circ_chest) > 0.0 %}
								+{{ g.user.startlog.circ_chest - g.user.currentlog.circ_chest}}
								{% elif (g.user.startlog.circ_chest - g.user.currentlog.circ_chest) < 0.0 %}
								-{{ g.user.startlog.circ_chest - g.user.currentlog.circ_chest}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Waist</th>
							<td>{{ g.user.startlog.circ_waist }}</td>
							<td>{{ g.user.currentlog.circ_waist }}</td>
							<td>
								{% if (g.user.startlog.circ_waist - g.user.currentlog.circ_waist) == 0.0 %}
								No Change
								{% elif (g.user.startlog.circ_waist - g.user.currentlog.circ_waist) > 0.0 %}
								+{{ g.user.startlog.circ_waist - g.user.currentlog.circ_waist}}
								{% elif (g.user.startlog.circ_waist - g.user.currentlog.circ_waist) < 0.0 %}
								-{{ g.user.startlog.circ_waist - g.user.currentlog.circ_waist}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Thigh</th>
							<td>{{ g.user.startlog.circ_thigh }}</td>
							<td>{{ g.user.currentlog.circ_thigh }}</td>
							<td>
								{% if (g.user.startlog.circ_thigh - g.user.currentlog.circ_thigh) == 0.0 %}
								No Change
								{% elif (g.user.startlog.circ_thigh - g.user.currentlog.circ_thigh) > 0.0 %}
								+{{ g.user.startlog.circ_thigh - g.user.currentlog.circ_thigh}}
								{% elif (g.user.startlog.circ_thigh - g.user.currentlog.circ_thigh) < 0.0 %}
								-{{ g.user.startlog.circ_thigh - g.user.currentlog.circ_thigh}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Neck</th>
							<td>{{ g.user.startlog.circ_neck }}</td>
							<td>{{ g.user.currentlog.circ_neck }}</td>
							<td>
								{% if (g.user.startlog.circ_neck - g.user.currentlog.circ_neck) == 0.0 %}
								No Change
								{% elif (g.user.startlog.circ_neck - g.user.currentlog.circ_neck) > 0.0 %}
								+{{ g.user.startlog.circ_neck - g.user.currentlog.circ_neck}}
								{% elif (g.user.startlog.circ_neck - g.user.currentlog.circ_neck) < 0.0 %}
								-{{ g.user.startlog.circ_neck - g.user.currentlog.circ_neck}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Upper Arm</th>
							<td>{{ g.user.startlog.circ_upperarm }}</td>
							<td>{{ g.user.currentlog.circ_upperarm }}</td>
							<td>
								{% if (g.user.startlog.circ_upperarm - g.user.currentlog.circ_upperarm) == 0.0 %}
								No Change
								{% elif (g.user.startlog.circ_upperarm - g.user.currentlog.circ_upperarm) > 0.0 %}
								+{{ g.user.startlog.circ_upperarm - g.user.currentlog.circ_upperarm}}
								{% elif (g.user.startlog.circ_upperarm - g.user.currentlog.circ_upperarm) < 0.0 %}
								-{{ g.user.startlog.circ_upperarm - g.user.currentlog.circ_upperarm}}
								{% endif %}
							</td>
						</tr>
					</tbody>
				</table>
				
			</div>
			
			<div class="col-md-4">
			
				<div class="page-heading">
					<h4>Caliper Measurements</h4>
				</div>
				
				<table class="table table-striped table-condensed">
					<thead>
						<tr>
							<th class="col-md-3">Location</th>
							<th class="col-md-3">Start</th>
							<th class="col-md-3">Current</th>
							<th class="col-md-3">Net Change</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th>Chest</th>
							<td>{{ g.user.startlog.fat_chest }}</td>
							<td>{{ g.user.currentlog.fat_chest }}</td>
							<td>
								{% if (g.user.startlog.fat_chest - g.user.currentlog.fat_chest) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_chest - g.user.currentlog.fat_chest) > 0.0 %}
								+{{ g.user.startlog.fat_chest - g.user.currentlog.fat_chest}}
								{% elif (g.user.startlog.fat_chest - g.user.currentlog.fat_chest) < 0.0 %}
								-{{ g.user.startlog.fat_chest - g.user.currentlog.fat_chest}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Abdominal</th>
							<td>{{ g.user.startlog.fat_abdominal }}</td>
							<td>{{ g.user.currentlog.fat_abdominal }}</td>
							<td>
								{% if (g.user.startlog.fat_abdominal - g.user.currentlog.fat_abdominal) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_abdominal - g.user.currentlog.fat_abdominal) > 0.0 %}
								+{{ g.user.startlog.fat_abdominal - g.user.currentlog.fat_abdominal}}
								{% elif (g.user.startlog.fat_abdominal - g.user.currentlog.fat_abdominal) < 0.0 %}
								-{{ g.user.startlog.fat_abdominal - g.user.currentlog.fat_abdominal}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Thigh</th>
							<td>{{ g.user.startlog.fat_thigh }}</td>
							<td>{{ g.user.currentlog.fat_thigh }}</td>
							<td>
								{% if (g.user.startlog.fat_thigh - g.user.currentlog.fat_thigh) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_thigh - g.user.currentlog.fat_thigh) > 0.0 %}
								+{{ g.user.startlog.fat_thigh - g.user.currentlog.fat_thigh}}
								{% elif (g.user.startlog.fat_thigh - g.user.currentlog.fat_thigh) < 0.0 %}
								-{{ g.user.startlog.fat_thigh - g.user.currentlog.fat_thigh}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Tricept</th>
							<td>{{ g.user.startlog.fat_tricep }}</td>
							<td>{{ g.user.currentlog.fat_tricep }}</td>
							<td>
								{% if (g.user.startlog.fat_tricep - g.user.currentlog.fat_tricep) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_tricep - g.user.currentlog.fat_tricep) > 0.0 %}
								+{{ g.user.startlog.fat_tricep - g.user.currentlog.fat_tricep}}
								{% elif (g.user.startlog.fat_tricep - g.user.currentlog.fat_tricep) < 0.0 %}
								-{{ g.user.startlog.fat_tricep - g.user.currentlog.fat_tricep}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Subscapular</th>
							<td>{{ g.user.startlog.fat_subscapular }}</td>
							<td>{{ g.user.currentlog.fat_subscapular }}</td>
							<td>
								{% if (g.user.startlog.fat_subscapular - g.user.currentlog.fat_subscapular) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_subscapular - g.user.currentlog.fat_subscapular) > 0.0 %}
								+{{ g.user.startlog.fat_subscapular - g.user.currentlog.fat_subscapular}}
								{% elif (g.user.startlog.fat_subscapular - g.user.currentlog.fat_subscapular) < 0.0 %}
								-{{ g.user.startlog.fat_subscapular - g.user.currentlog.fat_subscapular}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Suprailiac</th>
							<td>{{ g.user.startlog.fat_suprailiac }}</td>
							<td>{{ g.user.currentlog.fat_suprailiac }}</td>
							<td>
								{% if (g.user.startlog.fat_suprailiac - g.user.currentlog.fat_suprailiac) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_suprailiac - g.user.currentlog.fat_suprailiac) > 0.0 %}
								+{{ g.user.startlog.fat_suprailiac - g.user.currentlog.fat_suprailiac}}
								{% elif (g.user.startlog.fat_suprailiac - g.user.currentlog.fat_suprailiac) < 0.0 %}
								-{{ g.user.startlog.fat_suprailiac - g.user.currentlog.fat_suprailiac}}
								{% endif %}
							</td>
						</tr>
						<tr>
							<th>Midaxillary</th>
							<td>{{ g.user.startlog.fat_midaxillary }}</td>
							<td>{{ g.user.currentlog.fat_midaxillary }}</td>
							<td>
								{% if (g.user.startlog.fat_midaxillary - g.user.currentlog.fat_midaxillary) == 0.0 %}
								No Change
								{% elif (g.user.startlog.fat_midaxillary - g.user.currentlog.fat_midaxillary) > 0.0 %}
								+{{ g.user.startlog.fat_midaxillary - g.user.currentlog.fat_midaxillary}}
								{% elif (g.user.startlog.fat_midaxillary - g.user.currentlog.fat_midaxillary) < 0.0 %}
								-{{ g.user.startlog.fat_midaxillary - g.user.currentlog.fat_midaxillary}}
								{% endif %}
							</td>
						</tr>
					</tbody>
				</table>
				
			</div>
		
		{% else %}
			<p>No body logs have been entered yet!</p>
		{% endif %}
	
	{% else %}
		<p>Hey, you're not logged in!</p>
	{% endif %}

</div>


{% endblock %}
